import{r as n}from"./form.gBkfq7bj.js";import{r as Jn}from"./calendar.Ci0S5HwC.js";var Qe={exports:{}},q={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt;function er(){if(kt)return q;kt=1;var e=Jn();function t(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(a,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:a,containerInfo:c,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(a,c){if(a==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return q.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,q.createPortal=function(a,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return l(a,c,null,d)},q.flushSync=function(a){var c=s.T,d=r.p;try{if(s.T=null,r.p=2,a)return a()}finally{s.T=c,r.p=d,r.d.f()}},q.preconnect=function(a,c){typeof a=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(a,c))},q.prefetchDNS=function(a){typeof a=="string"&&r.d.D(a)},q.preinit=function(a,c){if(typeof a=="string"&&c&&typeof c.as=="string"){var d=c.as,f=u(d,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(a,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:m}):d==="script"&&r.d.X(a,{crossOrigin:f,integrity:h,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},q.preinitModule=function(a,c){if(typeof a=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=u(c.as,c.crossOrigin);r.d.M(a,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(a)},q.preload=function(a,c){if(typeof a=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=u(d,c.crossOrigin);r.d.L(a,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},q.preloadModule=function(a,c){if(typeof a=="string")if(c){var d=u(c.as,c.crossOrigin);r.d.m(a,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(a)},q.requestFormReset=function(a){r.d.r(a)},q.unstable_batchedUpdates=function(a,c){return a(c)},q.useFormState=function(a,c,d){return s.H.useFormState(a,c,d)},q.useFormStatus=function(){return s.H.useHostTransitionStatus()},q.version="19.1.1",q}var Dt;function tr(){if(Dt)return Qe.exports;Dt=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qe.exports=er(),Qe.exports}var nr=tr();const nn="carousel",Oe="controller",rr="navigation",or="no-scroll",mt="portal",ir="root",rn="toolbar",Ft="captions",lr="counter",Re="fullscreen",Ne="thumbnails",At="zoom",Je="loading",et="error",tt="complete",cr="placeholder",sr=e=>`active-slide-${e}`,on="fullsize",ye="flex_center",ar="no_scroll",ln="no_scroll_padding",ht="slide",cn="slide_wrapper",ur="slide_wrapper_interactive",de="prev",fe="next",ct="swipe",Pe="close",sn="onPointerDown",an="onPointerMove",un="onPointerUp",dn="onPointerLeave",fn="onPointerCancel",pt="onKeyDown",dr="onKeyUp",vt="onWheel",fr="Escape",mr="ArrowLeft",hr="ArrowRight",pr="button",Ve="icon",mn="contain",$t="cover",hn="Unknown action type",pn="yarl__";function B(...e){return[...e].filter(Boolean).join(" ")}function S(e){return`${pn}${e}`}function $(e){return`--${pn}${e}`}function Ee(e,t){return`${e}${t?`_${t}`:""}`}function be(e){return t=>Ee(e,t)}function me(e,t){var o;return(o=e?.[t])!==null&&o!==void 0?o:t}function vn(e,t,o){return me(e,"{index} of {total}").replace(/\{index}/g,`${Ct(o,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function ke(...e){return()=>{e.forEach(t=>{t()})}}function te(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function gt(){return typeof window<"u"}function Et(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function Ce(e){return e.type===void 0||e.type==="image"}function bt(e,t){return e.imageFit===$t||e.imageFit!==mn&&t===$t}function Ze(e){return typeof e=="string"?Number.parseInt(e,10):e}function ze(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ze(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function vr(e,t){const o=ze(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function gr(){return(gt()?window?.devicePixelRatio:void 0)||1}function Ct(e,t){return t>0?(e%t+t)%t:0}function _t(e){return e.length>0}function xt(e,t){return e[Ct(t,e.length)]}function st(e,t){return _t(e)?xt(e,t):void 0}function gn(e){return Ce(e)?e.src:void 0}function He(e,t,o){if(!o)return e;const{buttons:r,...i}=e,l=r.findIndex(u=>u===t),s=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(l>=0){const u=[...r];return u.splice(l,1,s),{buttons:u,...i}}return{buttons:[s,...r],...i}}function En(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const Er=Number(n.version.split(".")[0])>=19;function br(e){return{inert:Er?e:e?"":void 0}}function Cr(e){e.scrollTop}const at={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Pe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:mn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function X(e,t){return{module:e,children:t}}function bn(e,t,o){return e.module.name===t?o(e):e.children?[X(e.module,e.children.flatMap(r=>{var i;return(i=bn(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function xe(e,t,o){return e.flatMap(r=>{var i;return(i=bn(r,t,o))!==null&&i!==void 0?i:[]})}function _r(e,t=[],o=[]){let r=e;const i=m=>{const E=[...r];for(;E.length>0;){const v=E.pop();if(v?.module.name===m)return!0;v?.children&&E.push(...v.children)}return!1},l=(m,E)=>{if(m===""){r=[X(E,r)];return}r=xe(r,m,v=>[X(E,[v])])},s=(m,E)=>{r=xe(r,m,v=>[X(v.module,[X(E,v.children)])])},u=(m,E,v)=>{r=xe(r,m,w=>{var _;return[X(w.module,[...v?[X(E)]:[],...(_=w.children)!==null&&_!==void 0?_:[],...v?[]:[X(E)]])]})},a=(m,E,v)=>{r=xe(r,m,w=>[...v?[X(E)]:[],w,...v?[]:[X(E)]])},c=m=>{s(Oe,m)},d=(m,E)=>{r=xe(r,m,v=>[X(E,v.children)])},f=m=>{r=xe(r,m,E=>E.children)},h=m=>{o.push(m)};return t.forEach(m=>{m({contains:i,addParent:l,append:s,addChild:u,addSibling:a,addModule:c,replace:d,remove:f,augment:h})}),{config:r,augmentation:m=>o.reduce((E,v)=>v(E),m)}}const Cn=n.createContext(null),_n=te("useA11yContext","A11yContext",Cn);function xr({children:e}){const[t,o]=n.useState(!1),[r,i]=n.useState(!1),l=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(u,a)=>{const c=d=>f=>{var h;f.currentTarget.contains(f.relatedTarget)||o(d),(h=d?u:a)===null||h===void 0||h(f)};return{onFocus:c(!0),onBlur:c(!1)}},autoPlaying:r,setAutoPlaying:i}),[t,r]);return n.createElement(Cn.Provider,{value:l},e)}const xn=n.createContext(null),Se=te("useDocument","DocumentContext",xn);function wr({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=l=>{var s;return((s=l||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:l=>{var s;return((s=r(l))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return n.createElement(xn.Provider,{value:o},t)}const wn=n.createContext(null),De=te("useEvents","EventsContext",wn);function yr({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(s,u)=>{var a;(a=t[s])===null||a===void 0||a.splice(0,t[s].length,...t[s].filter(c=>c!==u))};return{publish:(...[s,u])=>{var a;(a=t[s])===null||a===void 0||a.forEach(c=>c(u))},subscribe:(s,u)=>(t[s]||(t[s]=[]),t[s].push(u),()=>r(s,u)),unsubscribe:r}},[t]);return n.createElement(wn.Provider,{value:o},e)}const yn=n.createContext(null),U=te("useLightboxProps","LightboxPropsContext",yn);function Pn({children:e,...t}){return n.createElement(yn.Provider,{value:t},e)}const Sn=n.createContext(null),ie=te("useLightboxState","LightboxStateContext",Sn),Mn=n.createContext(null),Pr=te("useLightboxDispatch","LightboxDispatchContext",Mn);function Sr(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=t?.increment||0,i=e.globalIndex+r,l=Ct(i,o.length),s=st(o,l),u=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:l,globalIndex:i,currentSlide:s,animation:u}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:st(t.slides,t.index)}:e;default:throw new Error(hn)}}function Mr({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Sr,{slides:e,currentIndex:t,globalIndex:t,currentSlide:st(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const l=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(Mn.Provider,{value:i},n.createElement(Sn.Provider,{value:l},o))}const Tn=n.createContext(null),Ue=te("useTimeouts","TimeoutsContext",Tn);function Tr({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=s=>{t.splice(0,t.length,...t.filter(u=>u!==s))};return{setTimeout:(s,u)=>{const a=window.setTimeout(()=>{r(a),s()},u);return t.push(a),a},clearTimeout:s=>{s!==void 0&&(r(s),window.clearTimeout(s))}}},[t]);return n.createElement(Tn.Provider,{value:o},e)}const Me=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:l,style:s,...u},a){const{styles:c,labels:d}=U(),f=me(d,t);return n.createElement("button",{ref:a,type:"button",title:f,"aria-label":f,className:B(S(pr),o),onClick:l,style:{...s,...c.button},...u},i?i():n.createElement(r,{className:S(Ve),style:c.icon}))});function Ln(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function J(e,t){return Ln(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function In(e,t){return Ln(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const Lr=J("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ir=J("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Rr=J("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Nr=J("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),Or=J("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),oe=gt()?n.useLayoutEffect:n.useEffect;function wt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const l=s=>t(s.matches);return(r=i?.addEventListener)===null||r===void 0||r.call(i,"change",l),()=>{var s;return(s=i?.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",l)}},[]),e}function kr(e){let t=0,o=0,r=0;const l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){const s=l[1].split(",").map(Ze);s.length===6?(t=s[4],o=s[5]):s.length===16&&(t=s[12],o=s[13],r=s[14])}return{x:t,y:o,z:r}}function ut(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),i=wt();return oe(()=>{var l,s,u;if(e.current&&o.current!==void 0&&!i){const{keyframes:a,duration:c,easing:d,onfinish:f}=t(o.current,e.current.getBoundingClientRect(),kr(e.current))||{};if(a&&c){(l=r.current)===null||l===void 0||l.cancel(),r.current=void 0;try{r.current=(u=(s=e.current).animate)===null||u===void 0?void 0:u.call(s,a,{duration:c,easing:d})}catch(h){console.error(h)}r.current&&(r.current.onfinish=()=>{r.current=void 0,f?.()})}}o.current=void 0}),{prepareAnimation:l=>{o.current=l},isAnimationPlaying:()=>{var l;return((l=r.current)===null||l===void 0?void 0:l.playState)==="running"}}}function Rn(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(l=>{e.current=l,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(l){const u=window.getComputedStyle(l),a=c=>parseFloat(c)||0;r({width:Math.round(l.clientWidth-a(u.paddingLeft)-a(u.paddingRight)),height:Math.round(l.clientHeight-a(u.paddingTop)-a(u.paddingBottom))})}else r(void 0)};s(),l&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(l))},[]),containerRef:e,containerRect:o}}function We(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=Ue();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function D(e){const t=n.useRef(e);return oe(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function Wt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function dt(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{Wt(e,o),Wt(t,o)},[e,t])}function Dr(e,t=!1){const o=n.useRef(!1);oe(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function Xe(){const[e,t]=n.useState(!1);return oe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Nn(){const[e]=n.useState({}),t=n.useCallback((i,l)=>{var s;(s=e[i])===null||s===void 0||s.forEach(u=>{l.isPropagationStopped()||u(l)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(sn,i),onPointerMove:i=>t(an,i),onPointerUp:i=>t(un,i),onPointerLeave:i=>t(dn,i),onPointerCancel:i=>t(fn,i),onKeyDown:i=>t(pt,i),onKeyUp:i=>t(dr,i),onWheel:i=>t(vt,i)}),[t]),r=n.useCallback((i,l)=>(e[i]||(e[i]=[]),e[i].unshift(l),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(u=>u!==l))}),[e]);return{registerSensors:o,subscribeSensors:r}}function Vt(e,t){const o=n.useRef(0),r=We(),i=D((...l)=>{o.current=Date.now(),e(l)});return n.useCallback((...l)=>{r(()=>{i(l)},t-(Date.now()-o.current))},[t,i,r])}const nt=be("slide"),rt=be("slide_image");function ve({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:l,onClick:s,onLoad:u,onError:a,style:c}){var d,f,h,m,E,v,w,_;const[P,p]=n.useState(Je),{publish:L}=De(),{setTimeout:M}=Ue(),I=n.useRef(null);n.useEffect(()=>{t===0&&L(sr(P))},[t,P,L]);const C=D(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(p(tt),M(()=>{u?.(N)},0))})}),F=n.useCallback(N=>{I.current=N,N?.complete&&C(N)},[C]),x=n.useCallback(N=>{C(N.currentTarget)},[C]),z=D(()=>{p(et),a?.()}),O=bt(e,i),V=(N,j)=>Number.isFinite(N)?N:j,y=V(Math.max(...((f=(d=e.srcSet)===null||d===void 0?void 0:d.map(N=>N.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((h=I.current)===null||h===void 0?void 0:h.naturalWidth)||0),W=V(Math.max(...((E=(m=e.srcSet)===null||m===void 0?void 0:m.map(N=>N.height))!==null&&E!==void 0?E:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=I.current)===null||v===void 0?void 0:v.naturalHeight)||0),k=y&&W?{maxWidth:`min(${y}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},R=(w=e.srcSet)===null||w===void 0?void 0:w.sort((N,j)=>N.width-j.width).map(N=>`${N.src} ${N.width}w`).join(", "),g=()=>r&&!O&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,T=R&&r&&gt()?`${Math.round(Math.min(g(),r.width))}px`:void 0,{style:A,className:K,...H}=l||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:F,onLoad:x,onError:z,onClick:s,draggable:!1,className:B(S(rt()),O&&S(rt("cover")),P!==tt&&S(rt("loading")),K),style:{...k,...c,...A},...H,alt:(_=e.alt)!==null&&_!==void 0?_:"",sizes:T,srcSet:R,src:e.src}),P!==tt&&n.createElement("div",{className:S(nt(cr))},P===Je&&(o?.iconLoading?o.iconLoading():n.createElement(Nr,{className:B(S(Ve),S(nt(Je)))})),P===et&&(o?.iconError?o.iconError():n.createElement(Or,{className:B(S(Ve),S(nt(et)))}))))}const Fr=n.forwardRef(function({className:t,children:o,onFocus:r,onBlur:i,...l},s){const u=n.useRef(null),{trackFocusWithin:a}=_n();return n.createElement(wr,{nodeRef:u},n.createElement("div",{ref:dt(s,u),className:B(S("root"),t),...a(r,i),...l},o))});var G;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(G||(G={}));function On(e,t,o,r,i){n.useEffect(()=>i?()=>{}:ke(e(sn,t),e(an,o),e(un,r),e(dn,r),e(fn,r)),[e,t,o,r,i])}var re;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(re||(re={}));const ot=30;function Ar({disableSwipeNavigation:e,closeOnBackdropClick:t},o,r,i,l,s,u,a,c,d,f,h,m,E,v,w){const _=n.useRef(0),P=n.useRef([]),p=n.useRef(void 0),L=n.useRef(0),M=n.useRef(re.NONE),I=n.useCallback(y=>{p.current===y.pointerId&&(p.current=void 0,M.current=re.NONE);const W=P.current;W.splice(0,W.length,...W.filter(k=>k.pointerId!==y.pointerId))},[]),C=n.useCallback(y=>{I(y),y.persist(),P.current.push(y)},[I]),F=n.useCallback(y=>P.current.find(({pointerId:W})=>y.pointerId===W),[]),x=D(y=>{C(y)}),z=(y,W)=>f&&y>W||d&&y<-W,O=D(y=>{const W=F(y);if(W)if(p.current===y.pointerId){const k=Date.now()-L.current,R=_.current;M.current===re.SWIPE?Math.abs(R)>.3*i||Math.abs(R)>5&&k<l?a(R,k):c(R):M.current===re.PULL&&(z(R,2*ot)?E(R,k):v(R)),_.current=0,M.current=re.NONE}else{const{target:k}=y;t&&k instanceof HTMLElement&&k===W.target&&(k.classList.contains(S(ht))||k.classList.contains(S(cn)))&&w()}I(y)}),V=D(y=>{const W=F(y);if(W){const k=p.current===y.pointerId;if(y.buttons===0){k&&_.current!==0?O(y):I(W);return}const R=y.clientX-W.clientX,g=y.clientY-W.clientY;if(p.current===void 0){const T=A=>{C(y),p.current=y.pointerId,L.current=Date.now(),M.current=A};Math.abs(R)>Math.abs(g)&&Math.abs(R)>ot&&r(R)?e||(T(re.SWIPE),s()):Math.abs(g)>Math.abs(R)&&z(g,ot)&&(T(re.PULL),h())}else k&&(M.current===re.SWIPE?(_.current=R,u(R)):M.current===re.PULL&&(_.current=g,m(g)))}});On(o,x,V,O)}function $r({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=D(i=>{const l=Math.abs(i.deltaX)>Math.abs(i.deltaY);(l&&e||!l&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var l;i?i.addEventListener("wheel",r,{passive:!1}):(l=o.current)===null||l===void 0||l.removeEventListener("wheel",r),o.current=i},[r])}function Wr(e,t,o,r,i,l,s,u,a){const c=n.useRef(0),d=n.useRef(0),f=n.useRef(void 0),h=n.useRef(void 0),m=n.useRef(0),E=n.useRef(void 0),v=n.useRef(0),{setTimeout:w,clearTimeout:_}=Ue(),P=n.useCallback(()=>{f.current&&(_(f.current),f.current=void 0)},[_]),p=n.useCallback(()=>{h.current&&(_(h.current),h.current=void 0)},[_]),L=D(()=>{e!==G.SWIPE&&(c.current=0,v.current=0,P(),p())});n.useEffect(L,[e,L]);const M=D(C=>{h.current=void 0,c.current===C&&a(c.current)}),I=D(C=>{if(C.ctrlKey||Math.abs(C.deltaY)>Math.abs(C.deltaX))return;const F=x=>{m.current=x,_(E.current),E.current=x>0?w(()=>{m.current=0,E.current=void 0},300):void 0};if(e===G.NONE){if(Math.abs(C.deltaX)<=1.2*Math.abs(m.current)){F(C.deltaX);return}if(!o(-C.deltaX))return;if(d.current+=C.deltaX,P(),Math.abs(d.current)>30)d.current=0,F(0),v.current=Date.now(),l();else{const x=d.current;f.current=w(()=>{f.current=void 0,x===d.current&&(d.current=0)},i)}}else if(e===G.SWIPE){let x=c.current-C.deltaX;if(x=Math.min(Math.abs(x),r)*Math.sign(x),c.current=x,s(x),p(),Math.abs(x)>.2*r){F(C.deltaX),u(x,Date.now()-v.current);return}h.current=w(()=>M(x),2*i)}else F(C.deltaX)});n.useEffect(()=>t(vt,I),[t,I])}const zt=be("container"),kn=n.createContext(null),ae=te("useController","ControllerContext",kn);function Vr({children:e,...t}){var o;const{carousel:r,animation:i,controller:l,on:s,styles:u,render:a}=t,{closeOnPullUp:c,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:h}=l,[m,E]=n.useState(),v=ie(),w=Pr(),[_,P]=n.useState(G.NONE),p=n.useRef(0),L=n.useRef(0),M=n.useRef(1),{registerSensors:I,subscribeSensors:C}=Nn(),{subscribe:F,publish:x}=De(),z=We(),O=We(),V=We(),{containerRef:y,setContainerRef:W,containerRect:k}=Rn(),R=dt($r({preventDefaultWheelX:f,preventDefaultWheelY:h}),W),g=n.useRef(null),T=dt(g,void 0),{getOwnerDocument:A}=Se(),K=Xe(),H=b=>(K?-1:1)*(typeof b=="number"?b:1),N=D(()=>{var b;return(b=y.current)===null||b===void 0?void 0:b.focus()}),j=D(()=>t),ue=D(()=>v),le=n.useCallback(b=>x(de,b),[x]),Fe=n.useCallback(b=>x(fe,b),[x]),_e=n.useCallback(()=>x(Pe),[x]),Be=b=>!(r.finite&&(H(b)>0&&v.currentIndex===0||H(b)<0&&v.currentIndex===v.slides.length-1)),Tt=b=>{var Z;p.current=b,(Z=y.current)===null||Z===void 0||Z.style.setProperty($("swipe_offset"),`${Math.round(b)}px`)},Ke=b=>{var Z,Q;L.current=b,M.current=(()=>{const Le=d&&b>0?b:c&&b<0?-b:0;return Math.min(Math.max(Et(1-Le/60*(1-.5),2),.5),1)})(),(Z=y.current)===null||Z===void 0||Z.style.setProperty($("pull_offset"),`${Math.round(b)}px`),(Q=y.current)===null||Q===void 0||Q.style.setProperty($("pull_opacity"),`${M.current}`)},{prepareAnimation:Kn}=ut(g,(b,Z,Q)=>{if(g.current&&k)return{keyframes:[{transform:`translate(0, ${b.rect.y-Z.y+Q.y}px)`,opacity:b.opacity},{transform:"translate(0, 0)",opacity:1}],duration:b.duration,easing:i.easing.fade}}),Lt=(b,Z)=>{if(c||d){Ke(b);let Q=0;g.current&&(Q=i.fade*(Z?2:1),Kn({rect:g.current.getBoundingClientRect(),opacity:M.current,duration:Q})),V(()=>{Ke(0),P(G.NONE)},Q),P(G.ANIMATION),Z||_e()}},{prepareAnimation:qn,isAnimationPlaying:Gn}=ut(g,(b,Z,Q)=>{var ce;if(g.current&&k&&(!((ce=v.animation)===null||ce===void 0)&&ce.duration)){const ee=ze(r.spacing),Le=(ee.percent?ee.percent*k.width/100:ee.pixel)||0;return{keyframes:[{transform:`translate(${H(v.globalIndex-b.index)*(k.width+Le)+b.rect.x-Z.x+Q.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),Te=D(b=>{var Z,Q;const ce=b.offset||0,ee=ce?i.swipe:(Z=i.navigation)!==null&&Z!==void 0?Z:i.swipe,Le=!ce&&!Gn()?i.easing.navigation:i.easing.swipe;let{direction:Ae}=b;const $e=(Q=b.count)!==null&&Q!==void 0?Q:1;let qe=G.ANIMATION,se=ee*$e;if(!Ae){const Ie=k?.width,Ot=b.duration||0,je=Ie?ee/Ie*Math.abs(ce):ee;$e!==0?(Ot<je?se=se/je*Math.max(Ot,je/5):Ie&&(se=ee/Ie*(Ie-Math.abs(ce))),Ae=H(ce)>0?de:fe):se=ee/2}let Ge=0;Ae===de?Be(H(1))?Ge=-$e:(qe=G.NONE,se=ee):Ae===fe&&(Be(H(-1))?Ge=$e:(qe=G.NONE,se=ee)),se=Math.round(se),O(()=>{Tt(0),P(G.NONE)},se),g.current&&qn({rect:g.current.getBoundingClientRect(),index:v.globalIndex}),P(qe),x(ct,{type:"swipe",increment:Ge,duration:se,easing:Le})});n.useEffect(()=>{var b,Z;!((b=v.animation)===null||b===void 0)&&b.increment&&(!((Z=v.animation)===null||Z===void 0)&&Z.duration)&&z(()=>w({type:"swipe",increment:0}),v.animation.duration)},[v.animation,w,z]);const It=[C,Be,k?.width||0,i.swipe,()=>P(G.SWIPE),b=>Tt(b),(b,Z)=>Te({offset:b,duration:Z,count:1}),b=>Te({offset:b,count:0})],jn=[()=>{d&&P(G.PULL)},b=>Ke(b),b=>Lt(b),b=>Lt(b,!0)];Ar(l,...It,c,d,...jn,_e),Wr(_,...It);const Rt=D(()=>{l.focus&&A().querySelector(`.${S(mt)} .${S(zt())}`)&&N()});n.useEffect(Rt,[Rt]);const Nt=D(()=>{var b;(b=s.view)===null||b===void 0||b.call(s,{index:v.currentIndex})});n.useEffect(Nt,[v.globalIndex,Nt]),n.useEffect(()=>ke(F(de,b=>Te({direction:de,...b})),F(fe,b=>Te({direction:fe,...b})),F(ct,b=>w(b))),[F,Te,w]);const Qn=n.useMemo(()=>({prev:le,next:Fe,close:_e,focus:N,slideRect:k?vr(k,r.padding):{width:0,height:0},containerRect:k||{width:0,height:0},subscribeSensors:C,containerRef:y,setCarouselRef:T,toolbarWidth:m,setToolbarWidth:E}),[le,Fe,_e,N,C,k,y,T,m,E,r.padding]);return n.useImperativeHandle(l.ref,()=>({prev:le,next:Fe,close:_e,focus:N,getLightboxProps:j,getLightboxState:ue}),[le,Fe,_e,N,j,ue]),n.createElement("div",{ref:R,className:B(S(zt()),S(ye)),style:{..._===G.SWIPE?{[$("swipe_offset")]:`${Math.round(p.current)}px`}:null,..._===G.PULL?{[$("pull_offset")]:`${Math.round(L.current)}px`,[$("pull_opacity")]:`${M.current}`}:null,...l.touchAction!=="none"?{[$("controller_touch_action")]:l.touchAction}:null,...u.container},tabIndex:-1,...I},k&&n.createElement(kn.Provider,{value:Qn},e,(o=a.controls)===null||o===void 0?void 0:o.call(a)))}const zr=ne(Oe,Vr);function he(e){return Ee(nn,e)}function Zt(e){return Ee(ht,e)}function Zr({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r,slides:i}=ie(),{slideRect:l,focus:s}=ae(),{render:u,carousel:{imageFit:a,imageProps:c},on:{click:d},styles:{slide:f},labels:h}=U(),{getOwnerDocument:m}=Se(),E=t!==0;n.useEffect(()=>{var w;E&&(!((w=o.current)===null||w===void 0)&&w.contains(m().activeElement))&&s()},[E,s,m]);const v=()=>{var w,_,P,p;let L=(w=u.slide)===null||w===void 0?void 0:w.call(u,{slide:e,offset:t,rect:l});return!L&&Ce(e)&&(L=n.createElement(ve,{slide:e,offset:t,render:u,rect:l,imageFit:a,imageProps:c,onClick:E?void 0:()=>d?.({index:r})})),L?n.createElement(n.Fragment,null,(_=u.slideHeader)===null||_===void 0?void 0:_.call(u,{slide:e}),((P=u.slideContainer)!==null&&P!==void 0?P:(({children:M})=>M))({slide:e,children:L}),(p=u.slideFooter)===null||p===void 0?void 0:p.call(u,{slide:e})):null};return n.createElement("div",{ref:o,className:B(S(Zt()),!E&&S(Zt("current")),S(ye)),...br(E),style:f,role:"group","aria-roledescription":me(h,"Slide"),"aria-label":vn(h,i,r+t)},v())}function Hr(){const e=U().styles.slide;return n.createElement("div",{className:S(ht),style:e})}function Ur({carousel:e,labels:t}){const{slides:o,currentIndex:r,globalIndex:i}=ie(),{setCarouselRef:l}=ae(),{autoPlaying:s,focusWithin:u}=_n(),a=ze(e.spacing),c=ze(e.padding),d=En(e,o,1),f=[];if(_t(o))for(let h=r-d;h<=r+d;h+=1){const m=xt(o,h),E=i-r+h,v=e.finite&&(h<0||h>o.length-1);f.push(v?{key:E}:{key:[`${E}`,gn(m)].filter(Boolean).join("|"),offset:h-r,slide:m})}return n.createElement("div",{ref:l,className:B(S(he()),f.length>0&&S(he("with_slides"))),style:{[`${$(he("slides_count"))}`]:f.length,[`${$(he("spacing_px"))}`]:a.pixel||0,[`${$(he("spacing_percent"))}`]:a.percent||0,[`${$(he("padding_px"))}`]:c.pixel||0,[`${$(he("padding_percent"))}`]:c.percent||0},role:"region","aria-live":s&&!u?"off":"polite","aria-roledescription":me(t,"Carousel"),"aria-label":me(t,"Photo gallery")},f.map(({key:h,slide:m,offset:E})=>m?n.createElement(Zr,{key:h,slide:m,offset:E}):n.createElement(Hr,{key:h})))}const Xr=ne(nn,Ur);function Dn(){const{carousel:e}=U(),{slides:t,currentIndex:o}=ie(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Fn(e){var t;const o=Xe(),{publish:r}=De(),{animation:i}=U(),{prevDisabled:l,nextDisabled:s}=Dn(),u=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Vt(()=>r(de),u),c=Vt(()=>r(fe),u),d=D(f=>{switch(f.key){case fr:r(Pe);break;case mr:(o?s:l)||(o?c:a)();break;case hr:(o?l:s)||(o?a:c)();break}});n.useEffect(()=>e(pt,d),[e,d])}function Ht({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:l,style:s}){return n.createElement(Me,{label:e,icon:t,renderIcon:o,className:S(`navigation_${r}`),disabled:l,onClick:i,style:s,...Dr(ae().focus,l)})}function Yr({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:l,next:s,subscribeSensors:u}=ae(),{prevDisabled:a,nextDisabled:c}=Dn();return Fn(u),n.createElement(n.Fragment,null,e?e():n.createElement(Ht,{label:"Previous",action:de,icon:Ir,renderIcon:o,style:i.navigationPrev,disabled:a,onClick:l}),t?t():n.createElement(Ht,{label:"Next",action:fe,icon:Rr,renderIcon:r,style:i.navigationNext,disabled:c,onClick:s}))}const Br=ne(rr,Yr),Ut=S(ar),Kr=S(ln);function qr(e){return"style"in e}function Xt(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",l=o?r.paddingLeft:r.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ze(l)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function Gr({noScroll:{disabled:e},children:t}){const o=Xe(),{getOwnerDocument:r,getOwnerWindow:i}=Se();return n.useEffect(()=>{if(e)return()=>{};const l=[],s=i(),{body:u,documentElement:a}=r(),c=Math.round(s.innerWidth-a.clientWidth);if(c>0){l.push(Xt(u,c,o));const d=u.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const h=d[f];qr(h)&&s.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(Kr)&&l.push(Xt(h,c,o))}}return u.classList.add(Ut),()=>{u.classList.remove(Ut),l.forEach(d=>d())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const jr=ne(or,Gr);function Yt(e){return Ee(mt,e)}function Bt(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Qr({children:e,animation:t,styles:o,className:r,on:i,portal:l,close:s,labels:u}){const[a,c]=n.useState(!1),[d,f]=n.useState(!1),h=n.useRef([]),m=n.useRef(null),{setTimeout:E}=Ue(),{subscribe:v}=De(),_=wt()?0:t.fade;n.useEffect(()=>(c(!0),()=>{c(!1),f(!1)}),[]);const P=D(()=>{h.current.forEach(I=>I()),h.current=[]}),p=D(()=>{var I;f(!1),P(),(I=i.exiting)===null||I===void 0||I.call(i),E(()=>{var C;(C=i.exited)===null||C===void 0||C.call(i),s()},_)});n.useEffect(()=>v(Pe,p),[v,p]);const L=D(I=>{var C,F,x;Cr(I),f(!0),(C=i.entering)===null||C===void 0||C.call(i);const z=(x=(F=I.parentNode)===null||F===void 0?void 0:F.children)!==null&&x!==void 0?x:[];for(let O=0;O<z.length;O+=1){const V=z[O];["TEMPLATE","SCRIPT","STYLE"].indexOf(V.tagName)===-1&&V!==I&&(h.current.push(Bt(V,"inert","")),h.current.push(Bt(V,"aria-hidden","true")))}h.current.push(()=>{var O,V;(V=(O=m.current)===null||O===void 0?void 0:O.focus)===null||V===void 0||V.call(O)}),E(()=>{var O;(O=i.entered)===null||O===void 0||O.call(i)},_)}),M=n.useCallback(I=>{I?L(I):P()},[L,P]);return a?nr.createPortal(n.createElement(Fr,{ref:M,className:B(r,S(Yt()),S(ln),d&&S(Yt("open"))),"aria-modal":!0,role:"dialog","aria-label":me(u,"Lightbox"),style:{...t.fade!==at.animation.fade?{[$("fade_animation_duration")]:`${_}ms`}:null,...t.easing.fade!==at.animation.easing.fade?{[$("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:I=>{m.current||(m.current=I.relatedTarget)}},e),l.root||document.body):null}const Jr=ne(mt,Qr);function eo({children:e}){return n.createElement(n.Fragment,null,e)}const to=ne(ir,eo);function no(e){return Ee(rn,e)}function ro({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:l}=ae(),{setContainerRef:s,containerRect:u}=Rn();oe(()=>{l(u?.width)},[l,u?.width]);const a=()=>t?t():n.createElement(Me,{key:Pe,label:"Close",icon:Lr,renderIcon:o,onClick:i});return n.createElement("div",{ref:s,style:r.toolbar,className:S(no())},e?.map(c=>c===Pe?a():c))}const oo=ne(rn,ro);function An(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>An(r,t)))}function io(e,t={}){const{easing:o,...r}=e,{easing:i,...l}=t;return{easing:{...o,...i},...r,...l}}function Qo({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:l,on:s,plugins:u,slides:a,index:c,...d}){const{animation:f,carousel:h,render:m,toolbar:E,controller:v,noScroll:w,on:_,slides:P,index:p,plugins:L,...M}=at,{config:I,augmentation:C}=_r([X(Jr,[X(jr,[X(zr,[X(Xr),X(oo),X(Br)])])])],u||L),F=C({animation:io(f,t),carousel:{...h,...e},render:{...m,...o},toolbar:{...E,...r},controller:{...v,...i},noScroll:{...w,...l},on:{..._,...s},...M,...d});return F.open?n.createElement(Pn,{...F},n.createElement(Mr,{slides:a||P,index:Ze(c||p)},n.createElement(Tr,null,n.createElement(yr,null,n.createElement(xr,null,An(X(to,I),F)))))):null}const we=e=>S(`slide_${e}`),ft={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},yt=e=>({...ft,...e});function lo(){const{captions:e}=U();return yt(e)}const $n=n.createContext(null),Pt=te("useCaptions","CaptionsContext",$n);function co({captions:e,children:t}){const{ref:o,hidden:r}=yt(e),[i,l]=n.useState(!r),s=n.useMemo(()=>({visible:i,show:()=>l(!0),hide:()=>l(!1)}),[i]);return n.useImperativeHandle(o,()=>s,[s]),n.createElement($n.Provider,{value:s},t)}function so({title:e}){const{toolbarWidth:t}=ae(),{styles:o}=U(),{visible:r}=Pt();return r?n.createElement("div",{role:"heading","aria-level":2,style:o.captionsTitleContainer,className:B(we("captions_container"),we("title_container"))},n.createElement("div",{className:we("title"),style:{...t?{[$("toolbar_width")]:`${t}px`}:null,...o.captionsTitle}},e)):null}function ao({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:o}=lo(),{styles:r,labels:i}=U(),{visible:l}=Pt();return l?n.createElement("div",{style:r.captionsDescriptionContainer,className:B(we("captions_container"),we("description_container"))},n.createElement("div",{className:we("description"),style:{...t!==ft.descriptionTextAlign||o!==ft.descriptionMaxLines?{[$("slide_description_text_align")]:t,[$("slide_description_max_lines")]:o}:null,...r.captionsDescription},role:"paragraph","aria-roledescription":me(i,"Caption")},typeof e=="string"?e.split(`
`).flatMap((s,u)=>[...u>0?[n.createElement("br",{key:u})]:[],s]):e)):null}const Wn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),uo=J("CaptionsVisible",Wn()),fo=In("CaptionsVisible",Wn());function mo(){const{visible:e,show:t,hide:o}=Pt(),{render:r}=U();return r.buttonCaptions?n.createElement(n.Fragment,null,r.buttonCaptions({visible:e,show:t,hide:o})):n.createElement(Me,{label:e?"Hide captions":"Show captions",icon:e?uo:fo,renderIcon:e?r.iconCaptionsVisible:r.iconCaptionsHidden,onClick:e?o:t})}function Jo({augment:e,addModule:t}){e(({captions:o,render:{slideFooter:r,...i},toolbar:l,...s})=>{const u=yt(o);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,r?.({slide:a}),a.title&&n.createElement(so,{title:a.title}),a.description&&n.createElement(ao,{description:a.description})),...i},toolbar:He(l,Ft,u.showToggle?n.createElement(mo,null):null),captions:u,...s}}),t(ne(Ft,co))}const ho={separator:"/",container:{}},Vn=e=>({...ho,...e});function po({counter:e}){const{slides:t,currentIndex:o}=ie(),{separator:r,container:{className:i,...l},className:s,...u}=Vn(e);return t.length===0?null:n.createElement("div",{className:B(S("counter"),i||s),...u,...l,"aria-hidden":!0},o+1," ",r," ",t.length)}function ei({augment:e,addChild:t}){e(({counter:o,...r})=>({counter:Vn(o),...r})),t(Oe,ne(lr,po))}const vo={auto:!1,ref:null},zn=e=>({...vo,...e}),Zn=n.createContext(null),go=te("useFullscreen","FullscreenContext",Zn);function Eo({fullscreen:e,on:t,children:o}){const{auto:r,ref:i}=zn(e),l=n.useRef(null),[s,u]=n.useState(),[a,c]=n.useState(!1),d=n.useRef(!1),{getOwnerDocument:f}=Se();oe(()=>{var p,L,M,I;const C=f();u(!((I=(M=(L=(p=C.fullscreenEnabled)!==null&&p!==void 0?p:C.webkitFullscreenEnabled)!==null&&L!==void 0?L:C.mozFullScreenEnabled)!==null&&M!==void 0?M:C.msFullscreenEnabled)!==null&&I!==void 0&&I))},[f]);const h=n.useCallback(()=>{var p;const L=f(),M=L.fullscreenElement||L.webkitFullscreenElement||L.mozFullScreenElement||L.msFullscreenElement;return((p=M?.shadowRoot)===null||p===void 0?void 0:p.fullscreenElement)||M},[f]),m=n.useCallback(()=>{const p=l.current;try{p.requestFullscreen?p.requestFullscreen().catch(()=>{}):p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.msRequestFullscreen&&p.msRequestFullscreen()}catch{}},[]),E=n.useCallback(()=>{if(!h())return;const p=f();try{p.exitFullscreen?p.exitFullscreen().catch(()=>{}):p.webkitExitFullscreen?p.webkitExitFullscreen():p.mozCancelFullScreen?p.mozCancelFullScreen():p.msExitFullscreen&&p.msExitFullscreen()}catch{}},[h,f]);n.useEffect(()=>{const p=f(),L=()=>{c(h()===l.current)};return ke(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(M=>(p.addEventListener(M,L),()=>p.removeEventListener(M,L))))},[h,f]);const v=D(()=>{var p;return(p=t.enterFullscreen)===null||p===void 0?void 0:p.call(t)}),w=D(()=>{var p;return(p=t.exitFullscreen)===null||p===void 0?void 0:p.call(t)});n.useEffect(()=>{a&&(d.current=!0),d.current&&(a?v:w)()},[a,v,w]);const _=D(()=>{var p;return(p=r?m:null)===null||p===void 0||p(),E});n.useEffect(_,[_]);const P=n.useMemo(()=>({fullscreen:a,disabled:s,enter:m,exit:E}),[a,s,m,E]);return n.useImperativeHandle(i,()=>P,[P]),n.createElement("div",{ref:l,className:B(S(Re),S(on))},n.createElement(Zn.Provider,{value:P},o))}const bo=J("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),Co=J("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function _o(){var e;const{fullscreen:t,disabled:o,enter:r,exit:i}=go(),{render:l}=U();return o?null:l.buttonFullscreen?n.createElement(n.Fragment,null,(e=l.buttonFullscreen)===null||e===void 0?void 0:e.call(l,{fullscreen:t,disabled:o,enter:r,exit:i})):n.createElement(Me,{disabled:o,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?Co:bo,renderIcon:t?l.iconExitFullscreen:l.iconEnterFullscreen,onClick:t?i:r})}function ti({augment:e,contains:t,addParent:o}){e(({fullscreen:r,toolbar:i,...l})=>({toolbar:He(i,Re,n.createElement(_o,null)),fullscreen:zn(r),...l})),o(t(Ne)?Ne:Oe,ne(Re,Eo))}const pe={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},St=e=>({...pe,...e});function Hn(){const{thumbnails:e}=U();return St(e)}const ge=e=>Ee(Ne,e),Y=e=>ge(Ee("thumbnail",e)),xo=J("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),wo=J("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function yo({slide:e,render:t,rect:o,imageFit:r}){var i;const l=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:o,imageFit:r});if(l)return l;const s={render:t,rect:o,imageFit:r};if(e.thumbnail)return n.createElement(ve,{slide:{src:e.thumbnail},...s});if(Ce(e))return n.createElement(ve,{slide:e,...s});const u=S(Y(Ve));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(ve,{slide:{src:e.poster},...s}),n.createElement(xo,{className:u})):n.createElement(wo,{className:u})}const Po=be("active"),it=be("fadein"),lt=be("fadeout"),So=be("placeholder"),Kt="delay",qt="duration";function Mo({slide:e,index:t,onClick:o,fadeIn:r,fadeOut:i,placeholder:l,onLoseFocus:s}){const u=n.useRef(null),{render:a,styles:c,labels:d}=U(),{slides:f,globalIndex:h}=ie(),{getOwnerDocument:m}=Se(),{width:E,height:v,imageFit:w}=Hn(),_={width:E,height:v},P=t===h,p=D(s);return n.useEffect(()=>{i&&m().activeElement===u.current&&p()},[i,p,m]),n.createElement("button",{ref:u,type:"button",className:B(S(ye),S(Y()),P&&S(Y(Po())),r&&S(Y(it())),i&&S(Y(lt())),l&&S(Y(So()))),style:{...r?{[$(Y(it(qt)))]:`${r.duration}ms`,[$(Y(it(Kt)))]:`${r.delay}ms`}:null,...i?{[$(Y(lt(qt)))]:`${i.duration}ms`,[$(Y(lt(Kt)))]:`${i.delay}ms`}:null,...c.thumbnail},onClick:o,"aria-current":P?!0:void 0,"aria-label":vn(d,f,t)},e&&yo({slide:e,render:a,rect:_,imageFit:w}))}function Gt(e){return["top","bottom"].includes(e)}function jt(e,t){return t+2*(e.border+e.padding)+e.gap}function To(e){const{thumbnail:t,poster:o}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof o=="string"&&o||e&&gn(e)||void 0}function Qt({visible:e,containerRef:t}){const o=n.useRef(null),r=Xe(),{publish:i,subscribe:l}=De(),{carousel:s,styles:u,labels:a}=U(),{slides:c,globalIndex:d,animation:f}=ie(),{registerSensors:h,subscribeSensors:m}=Nn();Fn(m);const E=Hn(),{position:v,width:w,height:_,border:P,borderStyle:p,borderColor:L,borderRadius:M,padding:I,gap:C,vignette:F}=E,x=f?.duration!==void 0&&f?.increment||0,z=f?.duration||0,{prepareAnimation:O}=ut(o,R=>({keyframes:Gt(v)?[{transform:`translateX(${(r?-1:1)*jt(E,w)*x+R}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${jt(E,_)*x+R}px)`},{transform:"translateY(0)"}],duration:z,easing:f?.easing})),V=D(()=>{let R=0;if(t.current&&o.current){const g=t.current.getBoundingClientRect(),T=o.current.getBoundingClientRect();R=Gt(v)?T.left-g.left-(g.width-T.width)/2:T.top-g.top-(g.height-T.height)/2}O(R)});n.useEffect(()=>ke(l(ct,V)),[l,V]);const y=En(s,c),W=[];if(_t(c))for(let R=d-y-Math.abs(x);R<=d+y+Math.abs(x);R+=1){const T=s.finite&&(R<0||R>c.length-1)||x<0&&R<d-y||x>0&&R>d+y?null:xt(c,R),A=[`${R}`,To(T)].filter(Boolean).join("|");W.push({key:A,index:R,slide:T})}const k=R=>()=>{R>d?i(fe,{count:R-d}):R<d&&i(de,{count:d-R})};return n.createElement("div",{className:B(S(ge("container")),S(ye)),style:{...e?null:{display:"none"},...w!==pe.width?{[$(Y("width"))]:`${w}px`}:null,..._!==pe.height?{[$(Y("height"))]:`${_}px`}:null,...P!==pe.border?{[$(Y("border"))]:`${P}px`}:null,...p?{[$(Y("border_style"))]:p}:null,...L?{[$(Y("border_color"))]:L}:null,...M!==pe.borderRadius?{[$(Y("border_radius"))]:`${M}px`}:null,...I!==pe.padding?{[$(Y("padding"))]:`${I}px`}:null,...C!==pe.gap?{[$(Y("gap"))]:`${C}px`}:null,...u.thumbnailsContainer}},n.createElement("nav",{ref:o,style:u.thumbnailsTrack,className:B(S(ge("track")),S(ye)),"aria-label":me(a,"Thumbnails"),tabIndex:-1,...h},W.map(({key:R,index:g,slide:T})=>{const A=z/Math.abs(x||1),K=x>0&&g>d+y-x&&g<=d+y||x<0&&g<d-y-x&&g>=d-y?{duration:A,delay:((x>0?g-(d+y-x):d-y-x-g)-1)*A}:void 0,H=x>0&&g<d-y||x<0&&g>d+y?{duration:A,delay:(x>0?x-(d-y-g):-x-(g-(d+y)))*A}:void 0;return n.createElement(Mo,{key:R,index:g,slide:T,fadeIn:K,fadeOut:H,placeholder:!T,onClick:k(g),onLoseFocus:()=>{var N;return(N=o.current)===null||N===void 0?void 0:N.focus()}})})),F&&n.createElement("div",{className:S(ge("vignette"))}))}const Un=n.createContext(null),Lo=te("useThumbnails","ThumbnailsContext",Un);function Io({children:e,...t}){const{ref:o,position:r,hidden:i}=St(t.thumbnails),[l,s]=n.useState(!i),u=n.useRef(null),a=n.useMemo(()=>({visible:l,show:()=>s(!0),hide:()=>s(!1)}),[l]);return n.useImperativeHandle(o,()=>a,[a]),n.createElement(Pn,{...t},n.createElement(Un.Provider,{value:a},n.createElement("div",{ref:u,className:B(S(ge()),S(ge(`${r}`)))},["start","top"].includes(r)&&n.createElement(Qt,{containerRef:u,visible:l}),n.createElement("div",{className:S(ge("wrapper"))},e),["end","bottom"].includes(r)&&n.createElement(Qt,{containerRef:u,visible:l}))))}const Xn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Ro=J("ThumbnailsVisible",Xn()),No=In("ThumbnailsHidden",Xn());function Oo(){const{visible:e,show:t,hide:o}=Lo(),{render:r}=U();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(Me,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Ro:No,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function ni({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:l,toolbar:s,...u})=>{const a=St(l);return{toolbar:He(s,Ne,a.showToggle?n.createElement(Oo,null):null),thumbnails:a,...u}});const i=ne(Ne,Io);t(Re)?o(Re,i):r(Oe,i)}const ko={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1};function Do(e){return Math.min(Math.max(e,Number.EPSILON),1)}function Yn(e){const{minZoom:t,...o}={...ko,...e};return{minZoom:Do(t),...o}}function Fo(e,t,o,r){const i=n.useRef(void 0),l=n.useRef(void 0),{zoom:s}=U().animation,u=wt(),a=D(()=>{var c,d,f;if((c=i.current)===null||c===void 0||c.cancel(),i.current=void 0,l.current&&r?.current){try{i.current=(f=(d=r.current).animate)===null||f===void 0?void 0:f.call(d,[{transform:l.current},{transform:`scale(${e}) translateX(${t}px) translateY(${o}px)`}],{duration:u?0:s??500,easing:i.current?"ease-out":"ease-in-out"})}catch(h){console.error(h)}l.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return oe(a,[e,t,o,a]),n.useCallback(()=>{l.current=r?.current?window.getComputedStyle(r.current).transform:void 0},[r])}function Ao(e,t){const{on:o}=U(),r=D(()=>{var i;t||(i=o.zoom)===null||i===void 0||i.call(o,{zoom:e})});n.useEffect(r,[e,r])}function Ye(){const{zoom:e}=U();return Yn(e)}function $o(e,t){var o,r;let i={width:0,height:0},l={width:0,height:0};const{currentSlide:s}=ie(),{imageFit:u}=U().carousel,{maxZoomPixelRatio:a}=Ye();if(e&&s){const d={...s,...t};if(Ce(d)){const f=bt(d,u),h=Math.max(...(((o=d.srcSet)===null||o===void 0?void 0:o.map(E=>E.width))||[]).concat(d.width?[d.width]:[])),m=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(E=>E.height))||[]).concat(d.height?[d.height]:[]));h>0&&m>0&&e.width>0&&e.height>0&&(l=f?{width:Math.round(Math.min(h,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*h))}:{width:h,height:m},l={width:l.width*a,height:l.height*a},i=f?{width:Math.min(e.width,l.width,h),height:Math.min(e.height,l.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*h,h)),height:Math.round(Math.min(e.height,e.width/h*m,m))})}}const c=i.width?Math.max(Et(l.width/i.width,5),1):1;return{imageRect:i,maxZoom:c}}function Jt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function en(e,t,o=100,r=2){return e*Math.min(1+Math.abs(t/o),r)**Math.sign(t)}function Wo(e,t,o,r,i,l,s,u,a){const c=n.useRef([]),d=n.useRef(0),f=n.useRef(void 0),{globalIndex:h}=ie(),{getOwnerWindow:m}=Se(),{containerRef:E,subscribeSensors:v}=ae(),{keyboardMoveDistance:w,zoomInMultiplier:_,wheelZoomDistanceFactor:P,scrollToZoom:p,doubleTapDelay:L,doubleClickDelay:M,doubleClickMaxStops:I,pinchZoomDistanceFactor:C}=Ye(),F=n.useCallback(g=>{if(E.current){const{pageX:T,pageY:A}=g,{scrollX:K,scrollY:H}=m(),{left:N,top:j,width:ue,height:le}=E.current.getBoundingClientRect();return[T-N-K-ue/2,A-j-H-le/2]}return[]},[E,m]),x=D(g=>{const{key:T,metaKey:A,ctrlKey:K}=g,H=A||K,N=()=>{g.preventDefault(),g.stopPropagation()};if(e>1){const j=(ue,le)=>{N(),u(ue,le)};T==="ArrowDown"?j(0,w):T==="ArrowUp"?j(0,-w):T==="ArrowLeft"?j(-w,0):T==="ArrowRight"&&j(w,0)}T==="+"||H&&T==="="?(N(),i()):T==="-"||H&&T==="_"?(N(),l()):H&&T==="0"&&(N(),s(1))}),z=D(g=>{if((g.ctrlKey||p)&&Math.abs(g.deltaY)>Math.abs(g.deltaX)){g.stopPropagation(),s(en(e,-g.deltaY,P),!0,...F(g));return}e>1&&(g.stopPropagation(),p||u(g.deltaX,g.deltaY))}),O=n.useCallback(g=>{const T=c.current;T.splice(0,T.length,...T.filter(A=>A.pointerId!==g.pointerId))},[]),V=n.useCallback(g=>{O(g),g.persist(),c.current.push(g)},[O]),y=D(g=>{var T;const A=c.current;if(g.pointerType==="mouse"&&g.buttons>1||!(!((T=a?.current)===null||T===void 0)&&T.contains(g.target)))return;e>1&&g.stopPropagation();const{timeStamp:K}=g;if(A.length===0&&K-d.current<(g.pointerType==="touch"?L:M)){d.current=0;const H=e>=1?e!==o?e*Math.max(o**(1/I),_):1:e!==t?e/Math.max(t**(-1/I),_):1;s(H,!1,...F(g))}else d.current=K;V(g),A.length===2&&(f.current=Jt(A[0],A[1]))}),W=D(g=>{const T=c.current,A=T.find(K=>K.pointerId===g.pointerId);if(T.length===2&&f.current){g.stopPropagation(),V(g);const K=Jt(T[0],T[1]),H=K-f.current;Math.abs(H)>0&&(s(en(e,H,C),!0,...T.map(N=>F(N)).reduce((N,j)=>j.map((ue,le)=>N[le]+ue/2))),f.current=K);return}e>1&&(g.stopPropagation(),A&&(T.length===1&&u((A.clientX-g.clientX)/e,(A.clientY-g.clientY)/e),V(g)))}),k=n.useCallback(g=>{const T=c.current;T.length===2&&T.find(A=>A.pointerId===g.pointerId)&&(f.current=void 0),O(g)},[O]),R=n.useCallback(()=>{const g=c.current;g.splice(0,g.length),d.current=0,f.current=void 0},[]);On(v,y,W,k,r),n.useEffect(R,[h,R]),n.useEffect(()=>r?()=>{}:ke(R,v(pt,x),v(vt,z)),[r,v,R,x,z])}function Vo(e,t,o){const[r,i]=n.useState(1),[l,s]=n.useState(0),[u,a]=n.useState(0),c=Fo(r,l,u,o),{currentSlide:d,globalIndex:f}=ie(),{containerRect:h,slideRect:m}=ae(),{minZoom:E,zoomInMultiplier:v}=Ye(),w=d&&Ce(d)?d.src:void 0,_=!w||!o?.current;oe(()=>{i(1),s(0),a(0)},[f,w]);const P=n.useCallback((C,F,x)=>{const z=x||r,O=l-(C||0),V=u-(F||0),y=(e.width*z-m.width)/2/z,W=(e.height*z-m.height)/2/z;s(Math.min(Math.abs(O),Math.max(y,0))*Math.sign(O)),a(Math.min(Math.abs(V),Math.max(W,0))*Math.sign(V))},[r,l,u,m,e.width,e.height]),p=n.useCallback((C,F,x,z)=>{const O=Et(Math.min(Math.max(C+.001<t?C:t,E),t),5);O!==r&&(F||c(),P(x?x*(1/r-1/O):0,z?z*(1/r-1/O):0,O),i(O))},[r,E,t,P,c]),L=D(()=>{r>1&&(r>t&&p(t,!0),P())});oe(L,[h.width,h.height,L]);const M=n.useCallback(()=>{const C=r*v;p(r<1&&C>1?1:C)},[r,v,p]),I=n.useCallback(()=>{const C=r/v;p(r>1&&C<1?1:C)},[r,v,p]);return{zoom:r,offsetX:l,offsetY:u,disabled:_,changeOffsets:P,changeZoom:p,zoomIn:M,zoomOut:I}}const Bn=n.createContext(null),Mt=te("useZoom","ZoomControllerContext",Bn);function zo({children:e}){const[t,o]=n.useState(),{slideRect:r}=ae(),{ref:i,minZoom:l}=Ye(),{imageRect:s,maxZoom:u}=$o(r,t?.imageDimensions),{zoom:a,offsetX:c,offsetY:d,disabled:f,changeZoom:h,changeOffsets:m,zoomIn:E,zoomOut:v}=Vo(s,u,t?.zoomWrapperRef);Ao(a,f),Wo(a,l,u,f,E,v,h,m,t?.zoomWrapperRef);const w=n.useMemo(()=>({zoom:a,minZoom:l,maxZoom:u,offsetX:c,offsetY:d,disabled:f,zoomIn:E,zoomOut:v,changeZoom:h}),[a,l,u,c,d,f,E,v,h]);n.useImperativeHandle(i,()=>w,[w]);const _=n.useMemo(()=>({...w,setZoomWrapper:o}),[w,o]);return n.createElement(Bn.Provider,{value:_},e)}const Zo=J("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Ho=J("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),tn=n.forwardRef(function({zoomIn:t,onLoseFocus:o},r){const i=n.useRef(!1),l=n.useRef(!1),{zoom:s,minZoom:u,maxZoom:a,zoomIn:c,zoomOut:d,disabled:f}=Mt(),{render:h}=U(),m=f||(t?s>=a:s<=u);return n.useEffect(()=>{m&&i.current&&l.current&&o(),m||(i.current=!0)},[m,o]),n.createElement(Me,{ref:r,disabled:m,label:t?"Zoom in":"Zoom out",icon:t?Zo:Ho,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?c:d,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function Uo(){const e=n.useRef(null),t=n.useRef(null),{focus:o}=ae(),r=n.useCallback(s=>{var u,a;!((u=s.current)===null||u===void 0)&&u.disabled?o():(a=s.current)===null||a===void 0||a.focus()},[o]),i=n.useCallback(()=>r(e),[r]),l=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(tn,{zoomIn:!0,ref:e,onLoseFocus:l}),n.createElement(tn,{ref:t,onLoseFocus:i}))}function Xo(){const{render:e}=U(),t=Mt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Uo,null)}function Yo(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Bo({current:e,preload:t},{type:o,source:r}){switch(o){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(hn)}}function Ko(e){var t,o;const[{current:r,preload:i},l]=n.useReducer(Bo,{}),{slide:s,rect:u,imageFit:a,render:c,interactive:d}=e,f=s.srcSet.sort((M,I)=>M.width-I.width),h=(t=s.width)!==null&&t!==void 0?t:f[f.length-1].width,m=(o=s.height)!==null&&o!==void 0?o:f[f.length-1].height,E=bt(s,a),v=Math.max(...f.map(M=>M.width)),w=Math.min((E?Math.max:Math.min)(u.width,h*(u.height/m)),v),_=gr(),P=D(()=>{var M;const I=(M=f.find(C=>C.width>=w*_))!==null&&M!==void 0?M:f[f.length-1];(!r||f.findIndex(C=>C.src===r)<f.findIndex(C=>C===I))&&l({type:"fetch",source:I.src})});oe(P,[u.width,u.height,_,P]);const p=D(M=>l({type:"done",source:M})),L={WebkitTransform:d?"initial":"translateZ(0)"};return E||Object.assign(L,u.width/u.height<h/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==r&&n.createElement(ve,{key:"preload",...e,offset:void 0,slide:{...s,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...L},onLoad:()=>p(i),render:{...c,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(ve,{key:"current",...e,slide:{...s,src:r,srcSet:void 0},style:L}))}function qo({render:e,slide:t,offset:o,rect:r}){var i;const[l,s]=n.useState(),u=n.useRef(null),{zoom:a,maxZoom:c,offsetX:d,offsetY:f,setZoomWrapper:h}=Mt(),m=a>1,{carousel:E,on:v}=U(),{currentIndex:w}=ie();oe(()=>o===0?(h({zoomWrapperRef:u,imageDimensions:l}),()=>h(void 0)):()=>{},[o,l,h]);let _=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:o,rect:r,zoom:a,maxZoom:c});if(!_&&Ce(t)){const P={slide:t,offset:o,rect:r,render:e,imageFit:E.imageFit,imageProps:E.imageProps,onClick:o===0?()=>{var p;return(p=v.click)===null||p===void 0?void 0:p.call(v,{index:w})}:void 0};_=Yo(t)?n.createElement(Ko,{...P,slide:t,interactive:m,rect:o===0?{width:r.width*a,height:r.height*a}:r}):n.createElement(ve,{onLoad:p=>s({width:p.naturalWidth,height:p.naturalHeight}),...P})}return _?n.createElement("div",{ref:u,className:B(S(on),S(ye),S(cn),m&&S(ur)),style:o===0?{transform:`scale(${a}) translateX(${d}px) translateY(${f}px)`}:void 0},_):null}const ri=({augment:e,addModule:t})=>{e(({zoom:o,toolbar:r,render:i,controller:l,...s})=>{const u=Yn(o);return{zoom:u,toolbar:He(r,At,n.createElement(Xo,null)),render:{...i,slide:a=>{var c;return Ce(a.slide)?n.createElement(qo,{render:i,...a}):(c=i.slide)===null||c===void 0?void 0:c.call(i,a)}},controller:{...l,preventDefaultWheelY:u.scrollToZoom},...s}}),t(ne(At,zo))};export{Jo as C,ti as F,Qo as L,ni as T,ri as Z,ei as a,tr as r};
